<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Least Squares Line</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,600;0,700;1,400&family=Source+Sans+3:wght@300;400;600&display=swap" rel="stylesheet">
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <style>
        :root {
            --bg-dark: #0a1628;
            --bg-card: #12233d;
            --accent-gold: #d4a853;
            --accent-teal: #3dd9d9;
            --text-light: #e8eef4;
            --text-muted: #8fa3b8;
            --gradient-1: linear-gradient(135deg, #0a1628 0%, #1a3a5c 100%);
            --gradient-gold: linear-gradient(135deg, #d4a853 0%, #f0c970 100%);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Source Sans 3', sans-serif;
            background: var(--bg-dark);
            color: var(--text-light);
            min-height: 100vh;
            overflow: hidden;
        }

        .slide-container {
            width: 100vw;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            background: var(--gradient-1);
        }

        .slide-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 20% 80%, rgba(61, 217, 217, 0.08) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(212, 168, 83, 0.08) 0%, transparent 50%);
            pointer-events: none;
        }

        .slide {
            display: none;
            width: 90%;
            max-width: 1100px;
            min-height: 70vh;
            padding: 3rem 4rem;
            background: rgba(18, 35, 61, 0.7);
            border: 1px solid rgba(212, 168, 83, 0.2);
            border-radius: 24px;
            backdrop-filter: blur(20px);
            animation: slideIn 0.6s ease-out;
            position: relative;
            overflow: hidden;
        }

        .slide::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--gradient-gold);
        }

        .slide.active {
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        h1 {
            font-family: 'Cormorant Garamond', serif;
            font-size: 3.2rem;
            font-weight: 600;
            color: var(--accent-gold);
            margin-bottom: 2rem;
            line-height: 1.2;
            letter-spacing: -0.02em;
        }

        h2 {
            font-family: 'Cormorant Garamond', serif;
            font-size: 2.4rem;
            font-weight: 600;
            color: var(--accent-gold);
            margin-bottom: 1.5rem;
            letter-spacing: -0.01em;
        }

        h3 {
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.6rem;
            font-weight: 600;
            color: var(--accent-teal);
            margin: 1.5rem 0 1rem;
        }

        p {
            font-size: 1.25rem;
            line-height: 1.8;
            color: var(--text-light);
            margin-bottom: 1rem;
            font-weight: 300;
        }

        .subtitle {
            font-size: 1.4rem;
            color: var(--text-muted);
            font-style: italic;
            font-family: 'Cormorant Garamond', serif;
        }

        ul {
            list-style: none;
            padding-left: 0;
        }

        li {
            font-size: 1.2rem;
            line-height: 1.8;
            margin-bottom: 0.8rem;
            padding-left: 2rem;
            position: relative;
            font-weight: 300;
        }

        li::before {
            content: '‚Üí';
            position: absolute;
            left: 0;
            color: var(--accent-gold);
            font-weight: 600;
        }

        .formula-box {
            background: rgba(212, 168, 83, 0.1);
            border: 1px solid rgba(212, 168, 83, 0.3);
            border-radius: 12px;
            padding: 1.5rem 2rem;
            margin: 1.5rem 0;
            text-align: center;
            font-size: 1.4rem;
        }

        .formula-box.teal {
            background: rgba(61, 217, 217, 0.1);
            border-color: rgba(61, 217, 217, 0.3);
        }

        .example-box {
            background: linear-gradient(135deg, rgba(61, 217, 217, 0.1) 0%, rgba(61, 217, 217, 0.05) 100%);
            border-left: 4px solid var(--accent-teal);
            border-radius: 0 12px 12px 0;
            padding: 1.5rem 2rem;
            margin: 1.5rem 0;
        }

        .example-box h3 {
            margin-top: 0;
            font-size: 1.3rem;
        }

        .two-column {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-top: 1rem;
        }

        .column {
            padding: 1rem;
        }

        .notation-table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
        }

        .notation-table th,
        .notation-table td {
            padding: 0.8rem 1rem;
            text-align: center;
            border-bottom: 1px solid rgba(212, 168, 83, 0.2);
        }

        .notation-table th {
            color: var(--accent-gold);
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.2rem;
        }

        .notation-table td {
            font-size: 1.1rem;
        }

        .highlight {
            color: var(--accent-gold);
            font-weight: 600;
        }

        .highlight-teal {
            color: var(--accent-teal);
            font-weight: 600;
        }

        .nav-controls {
            position: fixed;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 1rem;
            z-index: 100;
        }

        .nav-btn {
            padding: 0.8rem 2rem;
            background: rgba(212, 168, 83, 0.2);
            border: 1px solid var(--accent-gold);
            color: var(--accent-gold);
            font-family: 'Source Sans 3', sans-serif;
            font-size: 1rem;
            border-radius: 30px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .nav-btn:hover {
            background: var(--accent-gold);
            color: var(--bg-dark);
        }

        .progress-bar {
            position: fixed;
            top: 0;
            left: 0;
            height: 4px;
            background: var(--gradient-gold);
            transition: width 0.3s ease;
            z-index: 100;
        }

        .slide-counter {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            font-size: 1rem;
            color: var(--text-muted);
            font-family: 'Cormorant Garamond', serif;
        }

        .key-point {
            background: linear-gradient(135deg, rgba(212, 168, 83, 0.15) 0%, rgba(212, 168, 83, 0.05) 100%);
            border-radius: 12px;
            padding: 1.2rem 1.5rem;
            margin: 1rem 0;
            border-left: 4px solid var(--accent-gold);
        }

        .key-point p {
            margin: 0;
            font-size: 1.15rem;
        }

        .interpretation-box {
            background: rgba(212, 168, 83, 0.08);
            border: 2px dashed rgba(212, 168, 83, 0.4);
            border-radius: 12px;
            padding: 1.5rem;
            margin: 1rem 0;
        }

        .calc-steps {
            font-family: 'Source Sans 3', sans-serif;
            font-size: 1.2rem;
            line-height: 2;
        }

        .visual-diagram {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 2rem;
            margin: 2rem 0;
            flex-wrap: wrap;
        }

        .diagram-item {
            text-align: center;
            padding: 1rem 2rem;
            background: rgba(255,255,255,0.05);
            border-radius: 12px;
        }

        .diagram-arrow {
            font-size: 2rem;
            color: var(--accent-gold);
        }

        .title-slide {
            text-align: center;
        }

        .title-slide h1 {
            font-size: 4rem;
            margin-bottom: 1rem;
        }

        .warning-box {
            background: rgba(255, 100, 100, 0.1);
            border-left: 4px solid #ff6b6b;
            border-radius: 0 12px 12px 0;
            padding: 1rem 1.5rem;
            margin: 1rem 0;
        }

        .warning-box p {
            color: #ffb5b5;
            margin: 0;
        }
    </style>
</head>
<body>
    <div class="progress-bar" id="progress"></div>

    <!-- Slide 1: Title -->
    <div class="slide-container">
        <div class="slide active title-slide" data-slide="1">
            <h1>The Least Squares Line</h1>
            <p class="subtitle">Calculating & Interpreting Slope and Intercept</p>
        </div>

        <!-- Slide 2: The Problem with Residuals -->
        <div class="slide" data-slide="2">
            <h2>Why Not Just Sum the Residuals?</h2>
            <p>Residuals measure how far each data point is from our prediction line. But there's a problem...</p>
            
            <div class="two-column">
                <div class="column">
                    <h3>The Challenge</h3>
                    <ul>
                        <li>Some residuals are <span class="highlight">positive</span> (underestimates)</li>
                        <li>Some residuals are <span class="highlight-teal">negative</span> (overestimates)</li>
                        <li>They cancel each other out!</li>
                    </ul>
                </div>
                <div class="column">
                    <h3>Two Solutions</h3>
                    <ul>
                        <li>Minimize sum of <strong>absolute values</strong></li>
                        <li>Minimize sum of <strong>squared residuals</strong> ‚úì</li>
                    </ul>
                </div>
            </div>

            <div class="key-point">
                <p>We choose <span class="highlight">least squares</span> ‚Äî minimizing the sum of squared residuals.</p>
            </div>
        </div>

        <!-- Slide 3: Why Least Squares? -->
        <div class="slide" data-slide="3">
            <h2>Why Least Squares?</h2>
            
            <ul>
                <li>It's the <span class="highlight">most commonly used</span> approach in statistics</li>
                <li>Easier to compute ‚Äî both by hand and with software</li>
                <li>A residual twice as large is <span class="highlight-teal">more than twice as bad</span></li>
            </ul>

            <div class="example-box">
                <h3>Remember Standard Deviation?</h3>
                <p>We used the same idea when calculating standard deviation ‚Äî squaring deviations before summing. This penalizes larger deviations more heavily.</p>
            </div>

            <div class="formula-box">
                <p>Minimize: \( \sum_{i=1}^{n} (y_i - \hat{y}_i)^2 \)</p>
            </div>
        </div>

        <!-- Slide 4: The Linear Model -->
        <div class="slide" data-slide="4">
            <h2>The Least Squares Line</h2>
            
            <div class="formula-box">
                <p style="font-size: 1.8rem;">\( \hat{y} = \beta_0 + \beta_1 \cdot x \)</p>
            </div>

            <div class="two-column">
                <div class="column">
                    <div class="diagram-item">
                        <p style="font-size: 1.4rem;">\( \hat{y} \)</p>
                        <p style="color: var(--text-muted); font-size: 0.95rem;">Predicted value of response</p>
                    </div>
                </div>
                <div class="column">
                    <div class="diagram-item">
                        <p style="font-size: 1.4rem;">\( x \)</p>
                        <p style="color: var(--text-muted); font-size: 0.95rem;">Explanatory variable</p>
                    </div>
                </div>
            </div>

            <div class="two-column" style="margin-top: 1rem;">
                <div class="column">
                    <div class="diagram-item">
                        <p style="font-size: 1.4rem;">\( \beta_0 \)</p>
                        <p style="color: var(--text-muted); font-size: 0.95rem;">Intercept (where line crosses y-axis)</p>
                    </div>
                </div>
                <div class="column">
                    <div class="diagram-item">
                        <p style="font-size: 1.4rem;">\( \beta_1 \)</p>
                        <p style="color: var(--text-muted); font-size: 0.95rem;">Slope (rate of change)</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 5: Notation -->
        <div class="slide" data-slide="5">
            <h2>Parameters vs. Estimates</h2>
            <p>We use sample data to estimate unknown population parameters:</p>

            <table class="notation-table">
                <tr>
                    <th></th>
                    <th>Population Parameter<br><span style="font-weight: 300; font-size: 0.9rem;">(Greek letters)</span></th>
                    <th>Sample Estimate<br><span style="font-weight: 300; font-size: 0.9rem;">(Latin letters)</span></th>
                </tr>
                <tr>
                    <td>Intercept</td>
                    <td>\( \beta_0 \)</td>
                    <td>\( b_0 \)</td>
                </tr>
                <tr>
                    <td>Slope</td>
                    <td>\( \beta_1 \)</td>
                    <td>\( b_1 \)</td>
                </tr>
            </table>

            <div class="key-point">
                <p>This follows the same convention we use throughout statistics: Greek for parameters, Latin for estimates.</p>
            </div>
        </div>

        <!-- Slide 6: Calculating the Slope -->
        <div class="slide" data-slide="6">
            <h2>Calculating the Slope</h2>
            
            <div class="formula-box">
                <p style="font-size: 1.6rem;">\( b_1 = \frac{s_y}{s_x} \times R \)</p>
            </div>

            <p style="text-align: center; color: var(--text-muted); font-style: italic; margin-bottom: 1.5rem;">
                "Rise over run, times the correlation"
            </p>

            <div class="two-column">
                <div class="column">
                    <h3>Components</h3>
                    <ul>
                        <li>\( s_y \) = standard deviation of y</li>
                        <li>\( s_x \) = standard deviation of x</li>
                        <li>\( R \) = correlation coefficient</li>
                    </ul>
                </div>
                <div class="column">
                    <h3>Key Insight</h3>
                    <div class="key-point">
                        <p>The <span class="highlight">sign of the slope</span> always equals the <span class="highlight">sign of R</span></p>
                    </div>
                    <p style="font-size: 1rem;">Since \( s_y \) and \( s_x \) are always positive, the sign comes entirely from R.</p>
                </div>
            </div>
        </div>

        <!-- Slide 7: Slope Example -->
        <div class="slide" data-slide="7">
            <h2>Example: Calculating the Slope</h2>
            
            <div class="example-box">
                <h3>Poverty vs. High School Graduation</h3>
                <p>Given: \( s_y = 3.1\% \) (poverty), \( s_x = 3.73\% \) (HS grads), \( R = -0.75 \)</p>
            </div>

            <div class="calc-steps">
                <p>\( b_1 = \frac{s_y}{s_x} \times R = \frac{3.1}{3.73} \times (-0.75) \)</p>
            </div>

            <div class="formula-box teal">
                <p style="font-size: 1.6rem;">\( b_1 = -0.62 \)</p>
            </div>

            <div class="interpretation-box">
                <h3>Interpretation</h3>
                <p>For each <span class="highlight">1 percentage point increase</span> in high school graduation rate, we expect the percentage living in poverty to be <span class="highlight-teal">lower by 0.62 percentage points</span>, on average.</p>
            </div>

            <div class="warning-box">
                <p>‚ö†Ô∏è Avoid causal language with observational data! We say "expect" not "will cause."</p>
            </div>
        </div>

        <!-- Slide 8: Calculating the Intercept -->
        <div class="slide" data-slide="8">
            <h2>Calculating the Intercept</h2>
            
            <div class="key-point">
                <p>The least squares line <span class="highlight">always passes through</span> \( (\bar{x}, \bar{y}) \) ‚Äî the point of means.</p>
            </div>

            <p>Starting from \( \hat{y} = b_0 + b_1 x \) and plugging in the means:</p>

            <div class="formula-box">
                <p style="font-size: 1.6rem;">\( b_0 = \bar{y} - b_1 \cdot \bar{x} \)</p>
            </div>

            <div class="example-box">
                <h3>Continuing our example</h3>
                <p>Given: \( \bar{y} = 11.35\% \), \( \bar{x} = 86.01\% \), \( b_1 = -0.62 \)</p>
                <div class="calc-steps" style="margin-top: 1rem;">
                    <p>\( b_0 = 11.35 - (-0.62)(86.01) = 11.35 + 53.33 \)</p>
                </div>
            </div>

            <div class="formula-box teal">
                <p style="font-size: 1.6rem;">\( b_0 = 64.68\% \)</p>
            </div>
        </div>

        <!-- Slide 9: Interpreting the Intercept -->
        <div class="slide" data-slide="9">
            <h2>Interpreting the Intercept</h2>
            
            <div class="interpretation-box">
                <h3>Literal Interpretation</h3>
                <p>States with <span class="highlight">0% high school graduates</span> would be expected to have <span class="highlight-teal">64.68%</span> of residents living in poverty.</p>
            </div>

            <div class="warning-box">
                <p>‚ö†Ô∏è But wait... is this realistic? Do any states have 0% high school graduates?</p>
            </div>

            <p>Looking at the data, all states have graduation rates between ~75% and ~95%.</p>

            <div class="key-point">
                <p><strong>The intercept is often mathematically necessary but contextually meaningless.</strong></p>
                <p style="margin-top: 0.5rem; margin-bottom: 0;">It serves to <span class="highlight">adjust the height</span> of the regression line, even when x = 0 is outside the range of our data.</p>
            </div>
        </div>

        <!-- Slide 10: The Complete Model -->
        <div class="slide" data-slide="10">
            <h2>Putting It All Together</h2>
            
            <div class="formula-box" style="margin-top: 2rem;">
                <p style="font-size: 1.4rem;">\( \widehat{\text{Poverty}} = 64.68 - 0.62 \times \text{HS Graduates} \)</p>
            </div>

            <h3>Regression Output (from software)</h3>
            <table class="notation-table" style="margin-top: 1rem;">
                <tr>
                    <th>Term</th>
                    <th>Estimate</th>
                    <th>Std. Error</th>
                    <th>t value</th>
                    <th>p value</th>
                </tr>
                <tr>
                    <td>(Intercept)</td>
                    <td><span class="highlight">64.68</span></td>
                    <td>...</td>
                    <td>...</td>
                    <td>...</td>
                </tr>
                <tr>
                    <td>HS Graduates</td>
                    <td><span class="highlight-teal">-0.62</span></td>
                    <td>...</td>
                    <td>...</td>
                    <td>...</td>
                </tr>
            </table>

            <p style="margin-top: 1.5rem; color: var(--text-muted); font-size: 1rem; text-align: center;">
                (We'll cover standard errors, t-values, and p-values later in the course)
            </p>
        </div>

        <!-- Slide 11: Summary -->
        <div class="slide" data-slide="11">
            <h2>Key Takeaways</h2>
            
            <div class="two-column">
                <div class="column">
                    <h3>Intercept \( (b_0) \)</h3>
                    <div class="interpretation-box">
                        <p>When \( x = 0 \), we expect \( y \) to equal <span class="highlight">\( b_0 \)</span></p>
                    </div>
                    <ul>
                        <li>May be meaningless in context</li>
                        <li>Adjusts height of the line</li>
                        <li>Formula: \( b_0 = \bar{y} - b_1 \bar{x} \)</li>
                    </ul>
                </div>
                <div class="column">
                    <h3>Slope \( (b_1) \)</h3>
                    <div class="interpretation-box">
                        <p>For each 1-unit increase in \( x \), \( y \) changes by <span class="highlight-teal">\( b_1 \)</span></p>
                    </div>
                    <ul>
                        <li>Describes the relationship</li>
                        <li>Sign matches correlation</li>
                        <li>Formula: \( b_1 = \frac{s_y}{s_x} \times R \)</li>
                    </ul>
                </div>
            </div>

            <div class="key-point" style="margin-top: 2rem;">
                <p>üîë The regression line always passes through \( (\bar{x}, \bar{y}) \) ‚Äî the center of the data.</p>
            </div>
        </div>

        <!-- Slide 12: Caution -->
        <div class="slide" data-slide="12">
            <h2>A Final Word of Caution</h2>
            
            <div class="warning-box" style="background: rgba(212, 168, 83, 0.1); border-color: var(--accent-gold);">
                <p style="color: var(--accent-gold); font-size: 1.3rem; font-weight: 600;">Correlation ‚â† Causation</p>
            </div>

            <p>When interpreting the slope, be mindful of your study design:</p>

            <div class="two-column" style="margin-top: 1.5rem;">
                <div class="column">
                    <div class="diagram-item" style="border: 2px solid rgba(255, 100, 100, 0.5);">
                        <h3 style="color: #ff6b6b; margin-top: 0;">Observational Study</h3>
                        <p style="font-size: 1rem;">Use correlational language:</p>
                        <p style="font-style: italic; font-size: 1rem;">"...is <strong>associated with</strong>..."<br>"...we <strong>expect</strong>..."</p>
                    </div>
                </div>
                <div class="column">
                    <div class="diagram-item" style="border: 2px solid rgba(61, 217, 217, 0.5);">
                        <h3 style="color: var(--accent-teal); margin-top: 0;">Experimental Study</h3>
                        <p style="font-size: 1rem;">Causal language may be appropriate:</p>
                        <p style="font-style: italic; font-size: 1rem;">"...leads to..."<br>"...<strong>causes</strong>..."</p>
                    </div>
                </div>
            </div>

            <div class="key-point" style="margin-top: 2rem; text-align: center;">
                <p style="font-family: 'Cormorant Garamond', serif; font-size: 1.4rem; font-style: italic;">
                    "The slope tells us about relationship, not necessarily causation."
                </p>
            </div>
        </div>
    </div>

    <div class="nav-controls">
        <button class="nav-btn" onclick="prevSlide()">‚Üê Previous</button>
        <button class="nav-btn" onclick="nextSlide()">Next ‚Üí</button>
    </div>

    <div class="slide-counter">
        <span id="current">1</span> / <span id="total">12</span>
    </div>

    <script>
        let currentSlide = 1;
        const totalSlides = 12;

        function showSlide(n) {
            const slides = document.querySelectorAll('.slide');
            
            if (n > totalSlides) currentSlide = 1;
            if (n < 1) currentSlide = totalSlides;
            
            slides.forEach(slide => slide.classList.remove('active'));
            slides[currentSlide - 1].classList.add('active');
            
            document.getElementById('current').textContent = currentSlide;
            document.getElementById('progress').style.width = (currentSlide / totalSlides * 100) + '%';
        }

        function nextSlide() {
            currentSlide++;
            showSlide(currentSlide);
        }

        function prevSlide() {
            currentSlide--;
            showSlide(currentSlide);
        }

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextSlide();
            } else if (e.key === 'ArrowLeft') {
                prevSlide();
            }
        });

        // Initialize
        showSlide(currentSlide);
    </script>
</body>
</html>
